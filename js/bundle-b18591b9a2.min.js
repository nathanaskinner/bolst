!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).LocomotiveScroll=e()}(this,function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,o)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach(function(e){o(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var i,o=l(t);if(e){var a=l(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?r(t):e}(this,i)}}function d(t,e,i){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(o){var a=Object.getOwnPropertyDescriptor(o,e);return a.get?a.get.call(i):a.value}})(t,e,i||t)}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],o=!0,a=!1,s=void 0;try{for(var n,l=t[Symbol.iterator]();!(o=(n=l.next()).done)&&(i.push(n.value),!e||i.length!==e);o=!0);}catch(t){a=!0,s=t}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}return i}}(t,e)||m(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){if(t){if("string"==typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var f={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},v=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),Object.assign(this,f,i),this.smartphone=f.smartphone,i.smartphone&&Object.assign(this.smartphone,i.smartphone),this.tablet=f.tablet,i.tablet&&Object.assign(this.tablet,i.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return i(e,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(function(){t.resize(),t.resizeTick=!1}))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var t=this.context;this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",t!=this.context&&("desktop"==t?this.smooth:this[t].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function(){var t=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach(function(e){e.addEventListener("click",t.setScrollTo,!1)})}},{key:"setScrollTo",value:function(t){t.preventDefault(),this.scrollTo(t.currentTarget.getAttribute("data-".concat(this.name,"-href"))||t.currentTarget.getAttribute("href"),{offset:t.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(t){var e=this,i=this.instance.scroll.y,o=i+this.windowHeight,a=this.instance.scroll.x,s=a+this.windowWidth;Object.entries(this.els).forEach(function(n){var l=h(n,2),r=l[0],c=l[1];if(!c||c.inView&&!t||("horizontal"===e.direction?s>=c.left&&a<c.right&&e.setInView(c,r):o>=c.top&&i<c.bottom&&e.setInView(c,r)),c&&c.inView)if("horizontal"===e.direction){var d=c.right-c.left;c.progress=(e.instance.scroll.x-(c.left-e.windowWidth))/(d+e.windowWidth),(s<c.left||a>c.right)&&e.setOutOfView(c,r)}else{var u=c.bottom-c.top;c.progress=(e.instance.scroll.y-(c.top-e.windowHeight))/(u+e.windowHeight),(o<c.top||i>c.bottom)&&e.setOutOfView(c,r)}}),this.hasScrollTicking=!1}},{key:"setInView",value:function(t,e){this.els[e].inView=!0,t.el.classList.add(t.class),this.currentElements[e]=t,t.call&&this.hasCallEventSet&&(this.dispatchCall(t,"enter"),t.repeat||(this.els[e].call=!1))}},{key:"setOutOfView",value:function(t,e){var i=this;this.els[e].inView=!1,Object.keys(this.currentElements).forEach(function(t){t===e&&delete i.currentElements[t]}),t.call&&this.hasCallEventSet&&this.dispatchCall(t,"exit"),t.repeat&&t.el.classList.remove(t.class)}},{key:"dispatchCall",value:function(t,e){this.callWay=e,this.callValue=t.call.split(",").map(function(t){return t.trim()}),this.callObj=t,1==this.callValue.length&&(this.callValue=this.callValue[0]);var i=new Event(this.namespace+"call");this.el.dispatchEvent(i)}},{key:"dispatchScroll",value:function(){var t=new Event(this.namespace+"scroll");this.el.dispatchEvent(t)}},{key:"setEvents",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]);var i=this.listeners[t];i.push(e),1===i.length&&this.el.addEventListener(this.namespace+t,this.checkEvent,!1),"call"===t&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(t,e){if(this.listeners[t]){var i=this.listeners[t],o=i.indexOf(e);o<0||(i.splice(o,1),0===i.index&&this.el.removeEventListener(this.namespace+t,this.checkEvent,!1))}}},{key:"checkEvent",value:function(t){var e=this,i=t.type.replace(this.namespace,""),o=this.listeners[i];o&&0!==o.length&&o.forEach(function(t){switch(i){case"scroll":return t(e.instance);case"call":return t(e.callValue,e.callWay,e.callObj);default:return t()}})}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(t,e){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var t=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach(function(e){t.el.removeEventListener(t.namespace+e,t.checkEvent,!1)}),this.listeners={},this.scrollToEls.forEach(function(e){e.removeEventListener("click",t.setScrollTo,!1)}),this.html.classList.remove(this.initClass)}}]),e}(),g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function y(t,e){return t(e={exports:{}},e.exports),e.exports}var b=y(function(t,e){t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===t.__forceSmoothScrollPolyfill__){var i,o=t.HTMLElement||t.Element,a={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:o.prototype.scroll||l,scrollIntoView:o.prototype.scrollIntoView},s=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,n=(i=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(i)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==r(arguments[0])?u.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):a.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(r(arguments[0])?a.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):u.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},o.prototype.scroll=o.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==r(arguments[0])){var t=arguments[0].left,e=arguments[0].top;u.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");a.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},o.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==r(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):a.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},o.prototype.scrollIntoView=function(){if(!0!==r(arguments[0])){var i=function(t){for(;t!==e.body&&!1===h(t);)t=t.parentNode||t.host;return t}(this),o=i.getBoundingClientRect(),s=this.getBoundingClientRect();i!==e.body?(u.call(this,i,i.scrollLeft+s.left-o.left,i.scrollTop+s.top-o.top),"fixed"!==t.getComputedStyle(i).position&&t.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):t.scrollBy({left:s.left,top:s.top,behavior:"smooth"})}else a.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(t,e){this.scrollLeft=t,this.scrollTop=e}function r(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(t,e){return"Y"===e?t.clientHeight+n<t.scrollHeight:"X"===e?t.clientWidth+n<t.scrollWidth:void 0}function d(e,i){var o=t.getComputedStyle(e,null)["overflow"+i];return"auto"===o||"scroll"===o}function h(t){var e=c(t,"Y")&&d(t,"Y"),i=c(t,"X")&&d(t,"X");return e||i}function u(i,o,n){var r,c,d,h,u=s();i===e.body?(r=t,c=t.scrollX||t.pageXOffset,d=t.scrollY||t.pageYOffset,h=a.scroll):(r=i,c=i.scrollLeft,d=i.scrollTop,h=l),function e(i){var o,a,n,l,r=(s()-i.startTime)/468;l=r=r>1?1:r,o=.5*(1-Math.cos(Math.PI*l)),a=i.startX+(i.x-i.startX)*o,n=i.startY+(i.y-i.startY)*o,i.method.call(i.scrollable,a,n),a===i.x&&n===i.y||t.requestAnimationFrame(e.bind(t,i))}({scrollable:r,method:h,startTime:u,startX:c,startY:d,x:o,y:n})}}}}),w=(b.polyfill,function(e){n(a,v);var o=c(a);function a(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,a),(e=o.call(this,i)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",e.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=b,window.smoothscrollPolyfill.polyfill()),e}return i(a,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),d(l(a.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var t=this;d(l(a.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame(function(){t.detectElements()}),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var t=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach(function(e,i){e.getBoundingClientRect();var o,a,s,n=e.dataset[t.name+"Class"]||t.class,l="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:i,r="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,c=e.dataset[t.name+"Repeat"],d=e.dataset[t.name+"Call"],h=e.dataset[t.name+"Target"],u=(s=void 0!==h?document.querySelector("".concat(h)):e).getBoundingClientRect();o=u.top+t.instance.scroll.y,a=u.left+t.instance.scroll.x;var m=o+s.offsetHeight,p=a+s.offsetWidth;c="false"!=c&&(null!=c||t.repeat);var f=t.getRelativeOffset(r),v={el:e,targetEl:s,id:l,class:n,top:o+=f[0],bottom:m-=f[1],left:a,right:p,offset:r,progress:0,repeat:c,inView:!1,call:d};t.els[l]=v,e.classList.contains(n)&&t.setInView(t.els[l],l)})}},{key:"updateElements",value:function(){var t=this;Object.entries(this.els).forEach(function(e){var i=h(e,2),o=i[0],a=i[1],s=a.targetEl.getBoundingClientRect().top+t.instance.scroll.y,n=s+a.targetEl.offsetHeight,l=t.getRelativeOffset(a.offset);t.els[o].top=s+l[0],t.els[o].bottom=n-l[1]}),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(t){var e=[0,0];if(t)for(var i=0;i<t.length;i++)"string"==typeof t[i]?t[i].includes("%")?e[i]=parseInt(t[i].replace("%","")*this.windowHeight/100):e[i]=parseInt(t[i]):e[i]=t[i];return e}},{key:"scrollTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=parseInt(e.offset)||0,o=!!e.callback&&e.callback;if("string"==typeof t){if("top"===t)t=this.html;else if("bottom"===t)t=this.html.offsetHeight-window.innerHeight;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");i="number"!=typeof t?t.getBoundingClientRect().top+i+this.instance.scroll.y:t+i;var a=function(){return parseInt(window.pageYOffset)===parseInt(i)};if(o){if(a())return void o();window.addEventListener("scroll",function t(){a()&&(window.removeEventListener("scroll",t),o())})}window.scrollTo({top:i,behavior:"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){d(l(a.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),a}()),_=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var S=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,o,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var n in i=Object(arguments[s]))x.call(i,n)&&(a[n]=i[n]);if(_){o=_(i);for(var l=0;l<o.length;l++)k.call(i,o[l])&&(a[o[l]]=i[o[l]])}}return a};function T(){}T.prototype={on:function(t,e,i){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var o=this;function a(){o.off(t,a),e.apply(i,arguments)}return a._=e,this.on(t,a,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),o=0,a=i.length;o<a;o++)i[o].fn.apply(i[o].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),o=i[t],a=[];if(o&&e)for(var s=0,n=o.length;s<n;s++)o[s].fn!==e&&o[s].fn._!==e&&a.push(o[s]);return a.length?i[t]=a:delete i[t],this}};var E=T,C=y(function(t,e){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,i,o){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=o?o:150,this.lastUpDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,o,a,s,n,l;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(o=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),l=o.reduce(function(t,e){return t+e}),s=i.reduce(function(t,e){return t+e}),n=l/o.length,a=s/i.length,Math.abs(n)<Math.abs(a*this.tolerance)&&this.sensitivity<Math.abs(a)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(g)}),A="onwheel"in document,O="onmousewheel"in document,L="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,D=navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,j=!!window.navigator.msPointerEnabled,M="onkeydown"in document,B=navigator.userAgent.indexOf("Firefox")>-1,I=Object.prototype.toString,H=Object.prototype.hasOwnProperty;function R(t,e){return function(){return t.apply(e,arguments)}}var W=C.Lethargy,P="virtualscroll",$=Y;function Y(t){!function(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var i in t)H.call(t,i)&&"function"==typeof t[i]&&"[object Function]"==I.call(t[i])&&e.push(i);for(var o=0;o<e.length;o++){var a=e[o];t[a]=R(t[a],t)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=S({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},t),this.options.limitInertia&&(this._lethargy=new W),this._emitter=new E,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function z(t,e,i){return(1-i)*t+i*e}function X(t){var e={};if(window.getComputedStyle){var i=getComputedStyle(t),o=i.transform||i.webkitTransform||i.mozTransform,a=o.match(/^matrix3d\((.+)\)$/);return a?(e.x=a?parseFloat(a[1].split(", ")[12]):0,e.y=a?parseFloat(a[1].split(", ")[13]):0):(a=o.match(/^matrix\((.+)\)$/),e.x=a?parseFloat(a[1].split(", ")[4]):0,e.y=a?parseFloat(a[1].split(", ")[5]):0),e}}function F(t){for(var e=[];t&&t!==document;t=t.parentNode)e.push(t);return e}Y.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(P,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},Y.prototype._onWheel=function(t){var e=this.options;if(!this._lethargy||!1!==this._lethargy.check(t)){var i=this._event;i.deltaX=t.wheelDeltaX||-1*t.deltaX,i.deltaY=t.wheelDeltaY||-1*t.deltaY,B&&1==t.deltaMode&&(i.deltaX*=e.firefoxMultiplier,i.deltaY*=e.firefoxMultiplier),i.deltaX*=e.mouseMultiplier,i.deltaY*=e.mouseMultiplier,this._notify(t)}},Y.prototype._onMouseWheel=function(t){if(!this.options.limitInertia||!1!==this._lethargy.check(t)){var e=this._event;e.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,e.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,this._notify(t)}},Y.prototype._onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=e.pageX,this.touchStartY=e.pageY},Y.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var i=this._event,o=t.targetTouches?t.targetTouches[0]:t;i.deltaX=(o.pageX-this.touchStartX)*e.touchMultiplier,i.deltaY=(o.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=o.pageX,this.touchStartY=o.pageY,this._notify(t)},Y.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var i=window.innerHeight-40;switch(t.keyCode){case 37:case 38:e.deltaY=this.options.keyStep;break;case 39:case 40:e.deltaY=-this.options.keyStep;break;case t.shiftKey:e.deltaY=i;break;case 32:e.deltaY=-i;break;default:return}this._notify(t)},Y.prototype._bind=function(){A&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),O&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),L&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),j&&D&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),M&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},Y.prototype._unbind=function(){A&&this.el.removeEventListener("wheel",this._onWheel),O&&this.el.removeEventListener("mousewheel",this._onMouseWheel),L&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),j&&D&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),M&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},Y.prototype.on=function(t,e){this._emitter.on(P,t,e);var i=this._emitter.e;i&&i[P]&&1===i[P].length&&this._bind()},Y.prototype.off=function(t,e){this._emitter.off(P,t,e);var i=this._emitter.e;(!i[P]||i[P].length<=0)&&this._unbind()},Y.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},Y.prototype.destroy=function(){this._emitter.off(),this._unbind()};var V="function"==typeof Float32Array;function q(t,e){return 1-3*e+3*t}function N(t,e){return 3*e-6*t}function K(t){return 3*t}function U(t,e,i){return((q(e,i)*t+N(e,i))*t+K(e))*t}function G(t,e,i){return 3*q(e,i)*t*t+2*N(e,i)*t+K(e)}function Q(t){return t}var J=function(e){n(a,v);var o=c(a);function a(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,a),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(e=o.call(this,i)).inertia&&(e.lerp=.1*e.inertia),e.isScrolling=!1,e.isDraggingScrollbar=!1,e.isTicking=!1,e.hasScrollTicking=!1,e.parallaxElements={},e.stop=!1,e.scrollbarContainer=i.scrollbarContainer,e.checkKey=e.checkKey.bind(r(e)),window.addEventListener("keydown",e.checkKey,!1),e}return i(a,[{key:"init",value:function(){var t=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=s({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new $({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on(function(e){t.stop||t.isDraggingScrollbar||requestAnimationFrame(function(){t.updateDelta(e),t.isScrolling||t.startScrolling()})}),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),d(l(a.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var t=0,e=this.el.children,i=0;i<e.length;i++)t+=e[i].offsetWidth;this.instance.limit.x=t-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(t){var e=this;if(this.stop)9==t.keyCode&&requestAnimationFrame(function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0});else{switch(t.keyCode){case 9:requestAnimationFrame(function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0,e.scrollTo(document.activeElement,{offset:-window.innerHeight/2})});break;case 38:this.instance.delta[this.directionAxis]-=240;break;case 40:this.instance.delta[this.directionAxis]+=240;break;case 33:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case 34:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case 36:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case 35:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case 32:document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||(t.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"checkScroll",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame(function(){return t.checkScroll()}),this.hasScrollTicking=!0),this.updateScroll();var i=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),o=Date.now()-this.startScrollTs;if(!this.animatingScroll&&o>100&&(i<.5&&0!=this.instance.delta[this.directionAxis]||i<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach(function(i){var o=h(i,2),a=(o[0],o[1]);a.persistent||t.instance.scroll[t.directionAxis]>a.offset[t.directionAxis]&&t.instance.scroll[t.directionAxis]<a.limit[t.directionAxis]?("horizontal"===t.direction?t.transform(a.el,-t.instance.scroll[t.directionAxis],0):t.transform(a.el,0,-t.instance.scroll[t.directionAxis]),a.inView||(a.inView=!0,a.el.style.opacity=1,a.el.style.pointerEvents="all",a.el.setAttribute("data-".concat(t.name,"-section-inview"),""))):((a.inView||e)&&(a.inView=!1,a.el.style.opacity=0,a.el.style.pointerEvents="none",a.el.removeAttribute("data-".concat(t.name,"-section-inview"))),t.transform(a.el,0,0))}),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var s=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,s,0):this.transform(this.scrollbarThumb,0,s)}d(l(a.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(t){var e,i=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;e="both"===i?t.deltaX+t.deltaY:"vertical"===i?t.deltaY:"horizontal"===i?t.deltaX:t.deltaY,this.instance.delta[this.directionAxis]-=e*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(t){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=z(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(t){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(t){this.isDraggingScrollbar=!1,this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(t){var e=this;this.isDraggingScrollbar&&requestAnimationFrame(function(){var i=100*(t.clientX-e.scrollbarBCR.left)/e.scrollbarWidth*e.instance.limit.x/100,o=100*(t.clientY-e.scrollbarBCR.top)/e.scrollbarHeight*e.instance.limit.y/100;o>0&&o<e.instance.limit.y&&(e.instance.delta.y=o),i>0&&i<e.instance.limit.x&&(e.instance.delta.x=i)})}},{key:"addElements",value:function(){var t=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach(function(e,i){var o,a,s,n=F(e),l=Object.entries(t.sections).map(function(t){var e=h(t,2);return e[0],e[1]}).find(function(t){return n.includes(t.el)}),r=e.dataset[t.name+"Class"]||t.class,c="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"el"+i,d=e.dataset[t.name+"Repeat"],u=e.dataset[t.name+"Call"],m=e.dataset[t.name+"Position"],p=e.dataset[t.name+"Delay"],f=e.dataset[t.name+"Direction"],v="string"==typeof e.dataset[t.name+"Sticky"],g=!!e.dataset[t.name+"Speed"]&&parseFloat(e.dataset[t.name+"Speed"])/10,y="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,b=e.dataset[t.name+"Target"],w=(s=void 0!==b?document.querySelector("".concat(b)):e).getBoundingClientRect();null===l||l.inView?(o=w.top+t.instance.scroll.y-X(s).y,a=w.left+t.instance.scroll.x-X(s).x):(o=w.top-X(l.el).y-X(s).y,a=w.left-X(l.el).x-X(s).x);var _=o+s.offsetHeight,x=a+s.offsetWidth,k={x:(x-a)/2+a,y:(_-o)/2+o};if(v){var S=e.getBoundingClientRect(),T=S.top,E=S.left,C={x:E-a,y:T-o};o+=window.innerHeight,a+=window.innerWidth,_=T+s.offsetHeight-e.offsetHeight-C[t.directionAxis],k={x:((x=E+s.offsetWidth-e.offsetWidth-C[t.directionAxis])-a)/2+a,y:(_-o)/2+o}}d="false"!=d&&(null!=d||t.repeat);var A=[0,0];if(y)if("horizontal"===t.direction){for(var O=0;O<y.length;O++)"string"==typeof y[O]?y[O].includes("%")?A[O]=parseInt(y[O].replace("%","")*t.windowWidth/100):A[O]=parseInt(y[O]):A[O]=y[O];a+=A[0],x-=A[1]}else{for(O=0;O<y.length;O++)"string"==typeof y[O]?y[O].includes("%")?A[O]=parseInt(y[O].replace("%","")*t.windowHeight/100):A[O]=parseInt(y[O]):A[O]=y[O];o+=A[0],_-=A[1]}var L={el:e,id:c,class:r,section:l,top:o,middle:k,bottom:_,left:a,right:x,offset:y,progress:0,repeat:d,inView:!1,call:u,speed:g,delay:p,position:m,target:s,direction:f,sticky:v};t.els[c]=L,e.classList.contains(r)&&t.setInView(t.els[c],c),(!1!==g||v)&&(t.parallaxElements[c]=L)})}},{key:"addSections",value:function(){var t=this;this.sections={};var e=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===e.length&&(e=[this.el]),e.forEach(function(e,i){var o="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"section"+i,a=e.getBoundingClientRect(),s={x:a.left-1.5*window.innerWidth-X(e).x,y:a.top-1.5*window.innerHeight-X(e).y},n={x:s.x+a.width+2*window.innerWidth,y:s.y+a.height+2*window.innerHeight},l="string"==typeof e.dataset[t.name+"Persistent"];e.setAttribute("data-scroll-section-id",o);var r={el:e,offset:s,limit:n,inView:!1,persistent:l,id:o};t.sections[o]=r})}},{key:"transform",value:function(t,e,i,o){var a;if(o){var s=X(t),n=z(s.x,e,o),l=z(s.y,i,o);a="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(n,",").concat(l,",0,1)")}else a="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(e,",").concat(i,",0,1)");t.style.webkitTransform=a,t.style.msTransform=a,t.style.transform=a}},{key:"transformElements",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.instance.scroll.x+this.windowWidth,a=this.instance.scroll.y+this.windowHeight,s={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach(function(n){var l=h(n,2),r=(l[0],l[1]),c=!1;if(t&&(c=0),r.inView||i)switch(r.position){case"top":c=e.instance.scroll[e.directionAxis]*-r.speed;break;case"elementTop":c=(a-r.top)*-r.speed;break;case"bottom":c=(e.instance.limit[e.directionAxis]-a+e.windowHeight)*r.speed;break;case"left":c=e.instance.scroll[e.directionAxis]*-r.speed;break;case"elementLeft":c=(o-r.left)*-r.speed;break;case"right":c=(e.instance.limit[e.directionAxis]-o+e.windowHeight)*r.speed;break;default:c=(s[e.directionAxis]-r.middle[e.directionAxis])*-r.speed}r.sticky&&(c=r.inView?"horizontal"===e.direction?e.instance.scroll.x-r.left+window.innerWidth:e.instance.scroll.y-r.top+window.innerHeight:"horizontal"===e.direction?e.instance.scroll.x<r.left-window.innerWidth&&e.instance.scroll.x<r.left-window.innerWidth/2?0:e.instance.scroll.x>r.right&&e.instance.scroll.x>r.right+100&&r.right-r.left+window.innerWidth:e.instance.scroll.y<r.top-window.innerHeight&&e.instance.scroll.y<r.top-window.innerHeight/2?0:e.instance.scroll.y>r.bottom&&e.instance.scroll.y>r.bottom+100&&r.bottom-r.top+window.innerHeight),!1!==c&&("horizontal"===r.direction||"horizontal"===e.direction&&"vertical"!==r.direction?e.transform(r.el,c,0,!t&&r.delay):e.transform(r.el,0,c,!t&&r.delay))})}},{key:"scrollTo",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=parseInt(i.offset)||0,a=isNaN(parseInt(i.duration))?1e3:parseInt(i.duration),s=i.easing||[.25,0,.35,1],n=!!i.disableLerp,l=!!i.callback&&i.callback;if(s=function(t,e,i,o){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&i===o)return Q;for(var a=V?new Float32Array(11):new Array(11),s=0;s<11;++s)a[s]=U(.1*s,t,i);function n(e){for(var o=0,s=1;10!==s&&a[s]<=e;++s)o+=.1;var n=o+(e-a[--s])/(a[s+1]-a[s])*.1,l=G(n,t,i);return l>=.001?function(t,e,i,o){for(var a=0;a<4;++a){var s=G(e,i,o);if(0===s)return e;e-=(U(e,i,o)-t)/s}return e}(e,n,t,i):0===l?n:function(t,e,i,o,a){var s,n,l=0;do{(s=U(n=e+(i-e)/2,o,a)-t)>0?i=n:e=n}while(Math.abs(s)>1e-7&&++l<10);return n}(e,o,o+.1,t,i)}return function(t){return 0===t?0:1===t?1:U(n(t),e,o)}}.apply(void 0,u(s)),"string"==typeof t){if("top"===t)t=0;else if("bottom"===t)t=this.instance.limit.y;else if("left"===t)t=0;else if("right"===t)t=this.instance.limit.x;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof t){if(!F(t).includes(this.el))return;var r,c=t.getBoundingClientRect(),d=c.top,m=c.left,p=F(t).find(function(t){return Object.entries(e.sections).map(function(t){var e=h(t,2);return e[0],e[1]}).find(function(e){return e.el==t})});r=p?X(p)[this.directionAxis]:-this.instance.scroll[this.directionAxis],o="horizontal"===this.direction?m+o-r:d+o-r}else o=t+o;var f=parseFloat(this.instance.delta[this.directionAxis]),v=Math.max(0,Math.min(o,this.instance.limit[this.directionAxis]))-f,g=function(t){n?"horizontal"===e.direction?e.setScroll(f+v*t,e.instance.delta.y):e.setScroll(e.instance.delta.x,f+v*t):e.instance.delta[e.directionAxis]=f+v*t};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var y=Date.now();!function t(){var i=(Date.now()-y)/a;i>1?(g(1),e.animatingScroll=!1,0==a&&e.update(),l&&l()):(e.scrollToRaf=requestAnimationFrame(t),g(s(i)))}()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(t,e){this.instance=s(s({},this.instance),{},{scroll:{x:t,y:e},delta:{x:t,y:e},speed:0})}},{key:"destroy",value:function(){d(l(a.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),a}();return function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.options=i,Object.assign(this,f,i),this.smartphone=f.smartphone,i.smartphone&&Object.assign(this.smartphone,i.smartphone),this.tablet=f.tablet,i.tablet&&Object.assign(this.tablet,i.tablet),this.smooth||"horizontal"!=this.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return i(e,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new J(this.options):this.scroll=new w(this.options),this.scroll.init(),window.location.hash){var t=window.location.hash.slice(1,window.location.hash.length),e=document.getElementById(t);e&&this.scroll.scrollTo(e)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(t,e){this.scroll.scrollTo(t,e)}},{key:"setScroll",value:function(t,e){this.scroll.setScroll(t,e)}},{key:"on",value:function(t,e){this.scroll.setEvents(t,e)}},{key:"off",value:function(t,e){this.scroll.unsetEvents(t,e)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),e}()}),function(t){function e(t){var e={},i=!1;t.attr("data-modaal-type")&&(i=!0,e.type=t.attr("data-modaal-type")),t.attr("data-modaal-content-source")&&(i=!0,e.content_source=t.attr("data-modaal-content-source")),t.attr("data-modaal-animation")&&(i=!0,e.animation=t.attr("data-modaal-animation")),t.attr("data-modaal-animation-speed")&&(i=!0,e.animation_speed=t.attr("data-modaal-animation-speed")),t.attr("data-modaal-after-callback-delay")&&(i=!0,e.after_callback_delay=t.attr("data-modaal-after-callback-delay")),t.attr("data-modaal-is-locked")&&(i=!0,e.is_locked="true"===t.attr("data-modaal-is-locked")),t.attr("data-modaal-hide-close")&&(i=!0,e.hide_close="true"===t.attr("data-modaal-hide-close")),t.attr("data-modaal-background")&&(i=!0,e.background=t.attr("data-modaal-background")),t.attr("data-modaal-overlay-opacity")&&(i=!0,e.overlay_opacity=t.attr("data-modaal-overlay-opacity")),t.attr("data-modaal-overlay-close")&&(i=!0,e.overlay_close="false"!==t.attr("data-modaal-overlay-close")),t.attr("data-modaal-accessible-title")&&(i=!0,e.accessible_title=t.attr("data-modaal-accessible-title")),t.attr("data-modaal-start-open")&&(i=!0,e.start_open="true"===t.attr("data-modaal-start-open")),t.attr("data-modaal-fullscreen")&&(i=!0,e.fullscreen="true"===t.attr("data-modaal-fullscreen")),t.attr("data-modaal-custom-class")&&(i=!0,e.custom_class=t.attr("data-modaal-custom-class")),t.attr("data-modaal-close-text")&&(i=!0,e.close_text=t.attr("data-modaal-close-text")),t.attr("data-modaal-close-aria-label")&&(i=!0,e.close_aria_label=t.attr("data-modaal-close-aria-label")),t.attr("data-modaal-background-scroll")&&(i=!0,e.background_scroll="true"===t.attr("data-modaal-background-scroll")),t.attr("data-modaal-width")&&(i=!0,e.width=parseInt(t.attr("data-modaal-width"))),t.attr("data-modaal-height")&&(i=!0,e.height=parseInt(t.attr("data-modaal-height"))),t.attr("data-modaal-confirm-button-text")&&(i=!0,e.confirm_button_text=t.attr("data-modaal-confirm-button-text")),t.attr("data-modaal-confirm-cancel-button-text")&&(i=!0,e.confirm_cancel_button_text=t.attr("data-modaal-confirm-cancel-button-text")),t.attr("data-modaal-confirm-title")&&(i=!0,e.confirm_title=t.attr("data-modaal-confirm-title")),t.attr("data-modaal-confirm-content")&&(i=!0,e.confirm_content=t.attr("data-modaal-confirm-content")),t.attr("data-modaal-gallery-active-class")&&(i=!0,e.gallery_active_class=t.attr("data-modaal-gallery-active-class")),t.attr("data-modaal-loading-content")&&(i=!0,e.loading_content=t.attr("data-modaal-loading-content")),t.attr("data-modaal-loading-class")&&(i=!0,e.loading_class=t.attr("data-modaal-loading-class")),t.attr("data-modaal-ajax-error-class")&&(i=!0,e.ajax_error_class=t.attr("data-modaal-ajax-error-class")),t.attr("data-modaal-instagram-id")&&(i=!0,e.instagram_id=t.attr("data-modaal-instagram-id")),i&&t.modaal(e)}var i={init:function(e,i){var o=this;if(o.dom=t("body"),o.$elem=t(i),o.options=t.extend({},t.fn.modaal.options,o.$elem.data(),e),o.xhr=null,o.scope={is_open:!1,id:"modaal_"+(new Date).getTime()+Math.random().toString(16).substring(2),source:o.options.content_source?o.options.content_source:o.$elem.attr("href")},o.$elem.attr("data-modaal-scope",o.scope.id),o.private_options={active_class:"is_active"},o.lastFocus=null,o.options.is_locked||"confirm"==o.options.type||o.options.hide_close?o.scope.close_btn="":o.scope.close_btn='<button type="button" class="modaal-close" id="modaal-close" aria-label="'+o.options.close_aria_label+'"><span>'+o.options.close_text+"</span></button>","none"===o.options.animation&&(o.options.animation_speed=0,o.options.after_callback_delay=0),t(i).on("click.Modaal",function(t){t.preventDefault(),o.create_modaal(o,t)}),!0===o.options.outer_controls)var a="outer";else a="inner";o.scope.prev_btn='<button type="button" class="modaal-gallery-control modaal-gallery-prev modaal-gallery-prev-'+a+'" id="modaal-gallery-prev" aria-label="Previous image (use left arrow to change)"><span>Previous Image</span></button>',o.scope.next_btn='<button type="button" class="modaal-gallery-control modaal-gallery-next modaal-gallery-next-'+a+'" id="modaal-gallery-next" aria-label="Next image (use right arrow to change)"><span>Next Image</span></button>',!0===o.options.start_open&&o.create_modaal(o)},create_modaal:function(t,e){var i;if((t=this).lastFocus=t.$elem,!1!==t.options.should_open&&("function"!=typeof t.options.should_open||!1!==t.options.should_open())){switch(t.options.before_open.call(t,e),t.options.type){case"inline":t.create_basic();break;case"ajax":i=t.options.source(t.$elem,t.scope.source),t.fetch_ajax(i);break;case"confirm":t.options.is_locked=!0,t.create_confirm();break;case"image":t.create_image();break;case"iframe":i=t.options.source(t.$elem,t.scope.source),t.create_iframe(i);break;case"video":t.create_video(t.scope.source);break;case"instagram":t.create_instagram()}t.watch_events()}},watch_events:function(){var e=this;e.dom.off("click.Modaal keyup.Modaal keydown.Modaal"),e.dom.on("keydown.Modaal",function(i){var o=i.keyCode,a=i.target;9==o&&e.scope.is_open&&(t.contains(document.getElementById(e.scope.id),a)||t("#"+e.scope.id).find('*[tabindex="0"]').focus())}),e.dom.on("keyup.Modaal",function(i){var o=i.keyCode,a=i.target;return i.shiftKey&&9==i.keyCode&&e.scope.is_open&&(t.contains(document.getElementById(e.scope.id),a)||t("#"+e.scope.id).find(".modaal-close").focus()),!e.options.is_locked&&27==o&&e.scope.is_open?!t(document.activeElement).is("input:not(:checkbox):not(:radio)")&&void e.modaal_close():"image"==e.options.type?(37==o&&e.scope.is_open&&!t("#"+e.scope.id+" .modaal-gallery-prev").hasClass("is_hidden")&&e.gallery_update("prev"),void(39==o&&e.scope.is_open&&!t("#"+e.scope.id+" .modaal-gallery-next").hasClass("is_hidden")&&e.gallery_update("next"))):void 0}),e.dom.on("click.Modaal",function(i){var o=t(i.target);if(e.options.is_locked||!(e.options.overlay_close&&o.is(".modaal-inner-wrapper")||o.is(".modaal-close")||o.closest(".modaal-close").length)){if(o.is(".modaal-confirm-btn"))return o.is(".modaal-ok")&&e.options.confirm_callback.call(e,e.lastFocus),o.is(".modaal-cancel")&&e.options.confirm_cancel_callback.call(e,e.lastFocus),void e.modaal_close();if(o.is(".modaal-gallery-control")){if(o.hasClass("is_hidden"))return;return o.is(".modaal-gallery-prev")&&e.gallery_update("prev"),void(o.is(".modaal-gallery-next")&&e.gallery_update("next"))}}else e.modaal_close()})},build_modal:function(e){var i=this,o="";"instagram"==i.options.type&&(o=" modaal-instagram");var a,s="video"==i.options.type?"modaal-video-wrap":"modaal-content";switch(i.options.animation){case"fade":a=" modaal-start_fade";break;case"slide-down":a=" modaal-start_slidedown";break;default:a=" modaal-start_none"}var n="";i.options.fullscreen&&(n=" modaal-fullscreen"),""===i.options.custom_class&&void 0===i.options.custom_class||(i.options.custom_class=" "+i.options.custom_class);var l="";i.options.width&&i.options.height&&"number"==typeof i.options.width&&"number"==typeof i.options.height?l=' style="max-width:'+i.options.width+"px;height:"+i.options.height+'px;overflow:auto;"':i.options.width&&"number"==typeof i.options.width?l=' style="max-width:'+i.options.width+'px;"':i.options.height&&"number"==typeof i.options.height&&(l=' style="height:'+i.options.height+'px;overflow:auto;"'),("image"==i.options.type||"video"==i.options.type||"instagram"==i.options.type||i.options.fullscreen)&&(l="");var r="";i.is_touch()&&(r=' style="cursor:pointer;"');var c='<div class="modaal-wrapper modaal-'+i.options.type+a+o+n+i.options.custom_class+'" id="'+i.scope.id+'"><div class="modaal-outer-wrapper"><div class="modaal-inner-wrapper"'+r+">";"video"!=i.options.type&&(c+='<div class="modaal-container"'+l+">"),c+='<div class="'+s+' modaal-focus" aria-hidden="false" aria-label="'+i.options.accessible_title+" - "+i.options.close_aria_label+'" role="dialog">',"inline"==i.options.type?c+='<div class="modaal-content-container" role="document"></div>':c+=e,c+="</div>"+i.scope.close_btn,"video"!=i.options.type&&(c+="</div>"),c+="</div>","image"==i.options.type&&!0===i.options.outer_controls&&(c+=i.scope.prev_btn+i.scope.next_btn),c+="</div></div>",t("#"+i.scope.id+"_overlay").length<1&&i.dom.append(c),"inline"==i.options.type&&e.appendTo("#"+i.scope.id+" .modaal-content-container"),i.modaal_overlay("show")},create_basic:function(){var e=t(this.scope.source),i="";e.length?(i=e.contents().detach(),e.empty()):i="Content could not be loaded. Please check the source and try again.",this.build_modal(i)},create_instagram:function(){var e=this,i=e.options.instagram_id,o="",a="Instagram photo couldn't be loaded, please check the embed code and try again.";if(e.build_modal('<div class="modaal-content-container'+(""!=e.options.loading_class?" "+e.options.loading_class:"")+'">'+e.options.loading_content+"</div>"),""!=i&&null!=i){var s="https://api.instagram.com/oembed?url=http://instagr.am/p/"+i+"/";t.ajax({url:s,dataType:"jsonp",cache:!1,success:function(i){e.dom.append('<div id="temp-ig" style="width:0;height:0;overflow:hidden;">'+i.html+"</div>"),e.dom.attr("data-igloaded")?window.instgrm.Embeds.process():e.dom.attr("data-igloaded","true");var o="#"+e.scope.id+" .modaal-content-container";t(o).length>0&&setTimeout(function(){t("#temp-ig").contents().clone().appendTo(o),t("#temp-ig").remove()},1e3)},error:function(){o=a;var i=t("#"+e.scope.id+" .modaal-content-container");i.length>0&&(i.removeClass(e.options.loading_class).addClass(e.options.ajax_error_class),i.html(o))}})}else o=a;return!1},fetch_ajax:function(e){var i=this;null==i.options.accessible_title&&(i.options.accessible_title="Dialog Window"),null!==i.xhr&&(i.xhr.abort(),i.xhr=null),i.build_modal('<div class="modaal-content-container'+(""!=i.options.loading_class?" "+i.options.loading_class:"")+'">'+i.options.loading_content+"</div>"),i.xhr=t.ajax(e,{success:function(e){var o=t("#"+i.scope.id).find(".modaal-content-container");o.length>0&&(o.removeClass(i.options.loading_class),o.html(e),i.options.ajax_success.call(i,o))},error:function(e){if("abort"!=e.statusText){var o=t("#"+i.scope.id+" .modaal-content-container");o.length>0&&(o.removeClass(i.options.loading_class).addClass(i.options.ajax_error_class),o.html("Content could not be loaded. Please check the source and try again."))}}})},create_confirm:function(){var t,e=this;t='<div class="modaal-content-container"><h1 id="modaal-title">'+e.options.confirm_title+'</h1><div class="modaal-confirm-content">'+e.options.confirm_content+'</div><div class="modaal-confirm-wrap"><button type="button" class="modaal-confirm-btn modaal-ok" aria-label="Confirm">'+e.options.confirm_button_text+'</button><button type="button" class="modaal-confirm-btn modaal-cancel" aria-label="Cancel">'+e.options.confirm_cancel_button_text+"</button></div></div></div>",e.build_modal(t)},create_image:function(){var e,i,o=this,a="";if(o.$elem.is("[data-group]")||o.$elem.is("[rel]")){var s=o.$elem.is("[data-group]"),n=s?o.$elem.attr("data-group"):o.$elem.attr("rel"),l=t(s?'[data-group="'+n+'"]':'[rel="'+n+'"]');l.removeAttr("data-gallery-active","is_active"),o.$elem.attr("data-gallery-active","is_active"),i=l.length-1;var r=[];a='<div class="modaal-gallery-item-wrap">',l.each(function(e,i){var o="",a="",s="",n=!1,l=!1,c=i.getAttribute("data-modaal-desc"),d=i.getAttribute("data-gallery-active");t(i).attr("data-modaal-content-source")?o=t(i).attr("data-modaal-content-source"):t(i).attr("href")?o=t(i).attr("href"):t(i).attr("src")?o=t(i).attr("src"):(o="trigger requires href or data-modaal-content-source attribute",l=!0),""!=c&&null!=c?(a=c,s='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(e+1)+" - </span>"+c.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</div>"):s='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(e+1)+"</span></div>",d&&(n=!0);var h={url:o,alt:a,rawdesc:c,desc:s,active:n,src_error:l};r.push(h)});for(var c=0;c<r.length;c++){var d="",h=r[c].rawdesc?"Image: "+r[c].rawdesc:"Image "+c+" no description";r[c].active&&(d=" "+o.private_options.active_class),a+='<div class="modaal-gallery-item gallery-item-'+c+d+'" aria-label="'+h+'">'+(r[c].src_error?r[c].url:'<img src="'+r[c].url+'" alt=" " style="width:100%">')+r[c].desc+"</div>"}a+="</div>",1!=o.options.outer_controls&&(a+=o.scope.prev_btn+o.scope.next_btn)}else{var u,m=!1;o.$elem.attr("data-modaal-content-source")?u=o.$elem.attr("data-modaal-content-source"):o.$elem.attr("href")?u=o.$elem.attr("href"):o.$elem.attr("src")?u=o.$elem.attr("src"):(u="trigger requires href or data-modaal-content-source attribute",m=!0);var p="";h="";o.$elem.attr("data-modaal-desc")?(h=o.$elem.attr("data-modaal-desc"),p='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image - </span>'+o.$elem.attr("data-modaal-desc").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</div>"):h="Image with no description",a='<div class="modaal-gallery-item is_active" aria-label="'+h+'">'+(m?u:'<img src="'+u+'" alt=" " style="width:100%">')+p+"</div>"}e=a,o.build_modal(e),t(".modaal-gallery-item.is_active").is(".gallery-item-0")&&t(".modaal-gallery-prev").hide(),t(".modaal-gallery-item.is_active").is(".gallery-item-"+i)&&t(".modaal-gallery-next").hide()},gallery_update:function(e){var i=this,o=t("#"+i.scope.id),a=o.find(".modaal-gallery-item").length-1;if(0==a)return!1;var s=o.find(".modaal-gallery-prev"),n=o.find(".modaal-gallery-next"),l=0,r=0,c=o.find(".modaal-gallery-item."+i.private_options.active_class),d="next"==e?c.next(".modaal-gallery-item"):c.prev(".modaal-gallery-item");return i.options.before_image_change.call(i,c,d),("prev"!=e||!o.find(".gallery-item-0").hasClass("is_active"))&&("next"!=e||!o.find(".gallery-item-"+a).hasClass("is_active"))&&void c.stop().animate({opacity:0},250,function(){d.addClass("is_next").css({position:"absolute",display:"block",opacity:0});var e=t(document).width(),h=e>1140?280:50;l=o.find(".modaal-gallery-item.is_next").width(),r=o.find(".modaal-gallery-item.is_next").height();var u=o.find(".modaal-gallery-item.is_next img").prop("naturalWidth"),m=o.find(".modaal-gallery-item.is_next img").prop("naturalHeight");u>e-h?(l=e-h,o.find(".modaal-gallery-item.is_next").css({width:l}),o.find(".modaal-gallery-item.is_next img").css({width:l}),r=o.find(".modaal-gallery-item.is_next").find("img").height()):(l=u,r=m),o.find(".modaal-gallery-item-wrap").stop().animate({width:l,height:r},250,function(){c.removeClass(i.private_options.active_class+" "+i.options.gallery_active_class).removeAttr("style"),c.find("img").removeAttr("style"),d.addClass(i.private_options.active_class+" "+i.options.gallery_active_class).removeClass("is_next").css("position",""),d.stop().animate({opacity:1},250,function(){t(this).removeAttr("style").css({width:"100%"}),t(this).find("img").css("width","100%"),o.find(".modaal-gallery-item-wrap").removeAttr("style"),i.options.after_image_change.call(i,d)}),o.find(".modaal-gallery-item").removeAttr("tabindex"),o.find(".modaal-gallery-item."+i.private_options.active_class).attr("tabindex","0").focus(),o.find(".modaal-gallery-item."+i.private_options.active_class).is(".gallery-item-0")?s.stop().animate({opacity:0},150,function(){t(this).hide()}):s.stop().css({display:"block",opacity:s.css("opacity")}).animate({opacity:1},150),o.find(".modaal-gallery-item."+i.private_options.active_class).is(".gallery-item-"+a)?n.stop().animate({opacity:0},150,function(){t(this).hide()}):n.stop().css({display:"block",opacity:s.css("opacity")}).animate({opacity:1},150)})})},create_video:function(t){var e;e='<iframe src="'+t+'" class="modaal-video-frame" frameborder="0" allow="autoplay; fullscreen"></iframe>',this.build_modal('<div class="modaal-video-container">'+e+"</div>")},create_iframe:function(t){var e,i=this;e=null!==i.options.width||void 0!==i.options.width||null!==i.options.height||void 0!==i.options.height?'<iframe src="'+t+'" class="modaal-iframe-elem" frameborder="0" allow="autoplay; fullscreen"></iframe>':'<div class="modaal-content-container">Please specify a width and height for your iframe</div>',i.build_modal(e)},modaal_open:function(){var e=this,i=t("#"+e.scope.id),o=e.options.animation;"none"===o&&(i.removeClass("modaal-start_none"),e.options.after_open.call(e,i)),"fade"===o&&i.removeClass("modaal-start_fade"),"slide-down"===o&&i.removeClass("modaal-start_slide_down");t(".modaal-wrapper *[tabindex=0]").removeAttr("tabindex"),("image"==e.options.type?t("#"+e.scope.id).find(".modaal-gallery-item."+e.private_options.active_class):i.find(".modaal-iframe-elem").length?i.find(".modaal-iframe-elem"):i.find(".modaal-video-wrap").length?i.find(".modaal-video-wrap"):i.find(".modaal-focus")).attr("tabindex","0").focus(),"none"!==o&&setTimeout(function(){e.options.after_open.call(e,i)},e.options.after_callback_delay)},modaal_close:function(){var e=this,i=t("#"+e.scope.id);e.options.before_close.call(e,i),null!==e.xhr&&(e.xhr.abort(),e.xhr=null),"none"===e.options.animation&&i.addClass("modaal-start_none"),"fade"===e.options.animation&&i.addClass("modaal-start_fade"),"slide-down"===e.options.animation&&i.addClass("modaal-start_slide_down"),setTimeout(function(){"inline"==e.options.type&&t("#"+e.scope.id+" .modaal-content-container").contents().detach().appendTo(e.scope.source),i.remove(),e.options.after_close.call(e),e.scope.is_open=!1},e.options.after_callback_delay),e.modaal_overlay("hide"),null!=e.lastFocus&&e.lastFocus.focus()},modaal_overlay:function(e){var i=this;"show"==e?(i.scope.is_open=!0,i.options.background_scroll||i.dom.addClass("modaal-noscroll"),t("#"+i.scope.id+"_overlay").length<1&&i.dom.append('<div class="modaal-overlay" id="'+i.scope.id+'_overlay"></div>'),t("#"+i.scope.id+"_overlay").css("background",i.options.background).stop().animate({opacity:i.options.overlay_opacity},i.options.animation_speed,function(){i.modaal_open()})):"hide"==e&&t("#"+i.scope.id+"_overlay").stop().animate({opacity:0},i.options.animation_speed,function(){t(this).remove(),i.dom.removeClass("modaal-noscroll")})},is_touch:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},o=[];t.fn.modaal=function(e){return this.each(function(a){var s=t(this).data("modaal");if(s){if("string"==typeof e)switch(e){case"open":s.create_modaal(s);break;case"close":s.modaal_close()}}else{var n=Object.create(i);n.init(e,this),t.data(this,"modaal",n),o.push({element:t(this).attr("class"),options:e})}})},t.fn.modaal.options={type:"inline",content_source:null,animation:"fade",animation_speed:300,after_callback_delay:350,is_locked:!1,hide_close:!1,background:"#000",overlay_opacity:"0.8",overlay_close:!0,accessible_title:"Dialog Window",start_open:!1,fullscreen:!1,custom_class:"",background_scroll:!1,should_open:!0,close_text:"Close",close_aria_label:"Close (Press escape to close)",width:null,height:null,before_open:function(){},after_open:function(){},before_close:function(){},after_close:function(){},source:function(t,e){return e},confirm_button_text:"Confirm",confirm_cancel_button_text:"Cancel",confirm_title:"Confirm Title",confirm_content:"<p>This is the default confirm dialog content. Replace me through the options</p>",confirm_callback:function(){},confirm_cancel_callback:function(){},gallery_active_class:"gallery_active_item",outer_controls:!1,before_image_change:function(t,e){},after_image_change:function(t){},loading_content:'<div class="modaal-loading-spinner"><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div></div>',loading_class:"is_loading",ajax_error_class:"modaal-error",ajax_success:function(){},instagram_id:null},t(function(){var i=t(".modaal");i.length&&i.each(function(){e(t(this))});var a=new MutationObserver(function(i){i.forEach(function(i){i.addedNodes&&i.addedNodes.length>0&&[].some.call(i.addedNodes,function(i){var a=t(i);(a.is("a")||a.is("button"))&&(a.hasClass("modaal")?e(a):o.forEach(function(e){if(e.element==a.attr("class"))return t(a).modaal(e.options),!1}))})})}),s={subtree:!0,attributes:!0,childList:!0,characterData:!0};setTimeout(function(){a.observe(document.body,s)},500)})}(jQuery,window,document);var header=document.getElementById("header"),hidden=!1,static=!0,scroll=new LocomotiveScroll({el:document.querySelector("#jsScroll"),smooth:!0,offset:[0,120],getSpeed:!0,getDirection:!0,reloadOnContextChange:!0,multiplier:1,class:"in-view",smartphone:{smooth:!1},tablet:{smooth:!1},smoothMobile:0});function openMobileDrawer(){document.getElementById("mobileDrawer").classList.remove("is-closed")}function closeMobileDrawer(){document.getElementById("mobileDrawer").classList.add("is-closed")}scroll.on("scroll",function(t){var e=header.getBoundingClientRect().height;"down"===t.direction&&static&&t.scroll.y>e&&(header.classList.add("pinned"),header.classList.contains("home")&&(header.classList.remove("navbar-light","bg-light"),header.classList.add("navbar-dark","bg-dark")),static=!1),"up"!==t.direction||static||t.scroll.y<=e&&(header.classList.remove("pinned"),header.classList.contains("home")&&(header.classList.remove("navbar-dark","bg-dark"),header.classList.add("navbar-light","bg-light")),static=!0),"down"!==t.direction||hidden||t.scroll.y>e+200&&(header.classList.remove("pinned"),header.classList.add("unpinned"),hidden=!0),"up"===t.direction&&hidden&&(header.classList.remove("unpinned"),header.classList.add("pinned"),hidden=!1)}),$(window).on("load",function(){scroll.update()}),$(".button--video").modaal({type:"video"}),$(document).ready(function(){$("#modalLink").modaal({custom_class:"newsletter"}),Cookies.get("formSignedUp")||setTimeout(function(){$("#modalLink").modaal("open")},6e3),Cookies.get("formNoThanks")||setTimeout(function(){$("#modalLink").modaal("open")},6e3),$("#noThanks").click(function(t){t.preventDefault(),$("#modalLink").modaal("close"),Cookies.set("formNoThanks",!0,{expires:60})})}),$(document).ready(function(){$("#newsletterForm").submit(function(t){t.preventDefault();var e=$(this),i=e.attr("action"),o=$("#newsletterName").val(),a=$("#newsletterEmail").val(),s=$("#newsletterGotcha").val(),n=$("#newsletterSubmit"),l=$("#newsletterMessage");$.ajax({url:i,method:"POST",dataType:"json",data:{name:o,email:a,_gotcha:s},beforeSend:function(){n.text("Signing you up...")},success:function(t){setTimeout(function(){e.addClass("is-hidden"),l.removeClass("is-hidden"),l.append('<div class="text-center text-large">Thank you for signing up!</div>')},3e3),setTimeout(function(){$("#modalLink").modaal("close")},6e3),Cookies.set("formSignedUp",!0)},error:function(t){l.removeClass("is-hidden"),$contactForm.append('<div class="text-center text-large">Oops, there was an error.</div>'),n.text("Sign up to download now")}})}),$("#infoForm").submit(function(t){t.preventDefault();var e=$(this),i=e.attr("action"),o=$("#infoName").val(),a=$("#infoEmail").val(),s=$("#infoGotcha").val(),n=$("#infoSubmit"),l=$("#infoMessage");$.ajax({url:i,method:"POST",dataType:"json",data:{name:o,email:a,_gotcha:s},beforeSend:function(){n.text("Signing you up...")},success:function(t){setTimeout(function(){e.addClass("is-hidden"),l.removeClass("is-hidden"),l.append('<div class="text-center text-large">Thank you for signing up!</div>')},3e3),Cookies.set("formSignedUp",!0,{expires:60})},error:function(t){l.removeClass("is-hidden"),$contactForm.append('<div class="text-center text-large">Oops, there was an error.</div>'),n.text("Sign up to download now")}})})});